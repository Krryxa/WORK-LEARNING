# 工作中对于广告编辑页的优化

优化加载速度 1.1s

## 优化的具体
1. 公共接口合并，减少 http 请求，后端做缓存
2. promise all 解决根据请求顺序顺序获取的问题（当前接口的数据展示需要依赖上一个接口数据的情景）
> 旧版本是 若有依赖关系的接口，是等待上一个接口请求完毕，才发送当前接口请求
3. 数据懒加载（编辑页的第四个模块默认收起，当点击展开的时候再加载数据）
4. 公用数据下沉到领域模型，多个模块复用的数据，不用再次请求接口
5. 实现页面 MVC 结构 [可看这里](https://)
> 数据处理单独抽出来放在 service 层，（vuex mutation）
6. 数据处理（数据量很大的时使用数据字典，可以使用 obj.key 得到想要的数据，需要的数据 key 值与数据字段作关系映射）
7. 组件化、ESLint 代码规范，便于维护
> 旧版本是 循环使用 if 等于需要的 key 来获取数据 
8. for 循环的使用，数组循环使用 for of，对象使用 for in
9. 路由方面使用路由懒加载
10. 一开始页面需要加载多条请求，在 axios 统一请求拦截加上loading，和接口请求计数器+1，统一响应拦截计数器-1，当等于零就关闭 loading